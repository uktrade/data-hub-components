{"version":3,"file":"main.0eabcbc68e3b85acc9b2.bundle.js","sources":["webpack:///./src/forms/elements/Step.jsx"],"sourcesContent":["import React, { useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport Button from '@govuk-react/button'\n\nimport useFormContext from '../hooks/useFormContext'\nimport ButtonLink from '../../button-link/ButtonLink'\nimport FormActions from './FormActions'\n\nfunction Step({\n  name, backButtonText, forwardButtonText,\n  hideBackButton, hideForwardButton, children,\n}) {\n  const {\n    currentStep,\n    goBack,\n    registerStep,\n    deregisterStep,\n    getStepIndex,\n    isFirstStep,\n    isLastStep,\n  } = useFormContext()\n\n  useEffect(() => {\n    registerStep(name)\n    return () => deregisterStep(name)\n  }, [name])\n\n  const index = getStepIndex(name)\n\n  if (index !== currentStep) {\n    return null\n  }\n\n  const defaultBackButtonText = 'Back'\n  const defaultForwardButtonText = isLastStep() ? 'Submit' : 'Next'\n\n  return (\n    <>\n      {children}\n\n      <FormActions>\n        {!hideForwardButton && <Button>{forwardButtonText || defaultForwardButtonText}</Button>}\n\n        {!hideBackButton && !isFirstStep() && (\n          <ButtonLink onClick={goBack}>\n            {backButtonText || defaultBackButtonText}\n          </ButtonLink>\n        )}\n      </FormActions>\n    </>\n  )\n}\n\nStep.propTypes = {\n  name: PropTypes.string,\n  backButtonText: PropTypes.string,\n  forwardButtonText: PropTypes.string,\n  hideBackButton: PropTypes.bool,\n  hideForwardButton: PropTypes.bool,\n  children: PropTypes.node,\n}\n\nStep.defaultProps = {\n  name: null,\n  backButtonText: null,\n  forwardButtonText: null,\n  hideBackButton: false,\n  hideForwardButton: false,\n  children: null,\n}\n\nexport default Step\n"],"mappings":"AAQA","sourceRoot":""}